---
pagination:
  data: collections.tagList   # iterate over all tags
  size: 1                     # one page per tag
  alias: tag                  # variable name inside template
  addAllPagesToCollections: true
eleventyComputed:
  permalink: /tags/{{ tag | slugify }}/index.html
  title: 'Posts tagged #{{tag}}'
---
{% extends "layouts/page.njk" %}

{% block pageContent %}

{# Filter posts for this tag #}
{% set taggedPosts = [] %}
{% for post in collections.posts %}
  {% if post.data.tags and tag in post.data.tags %}
    {% set _ = taggedPosts.push(post) %}
  {% endif %}
{% endfor %}
<p>
  <a href="/archives/"> Browse all tags </a>
</p>

<p>{{ taggedPosts | length }} post{% if taggedPosts | length != 1 %}s{% endif %} tagged with #{{ tag }}</p>

<ul>
  {% for post in taggedPosts %}
    {% if post.data.tags and tag in post.data.tags %}
      <li><a href="{{ post.url }}">{{ post.data.title }}</a></li>
    {% endif %}
  {% endfor %}
</ul>

{% endblock %}