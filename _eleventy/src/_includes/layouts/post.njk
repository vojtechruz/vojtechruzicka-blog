{% extends "layouts/base.njk" %}

{% block head %}
  {% include "components/social-metatags.njk", { kind: "article" } %}
{% endblock %}

{% block content %}
<main id="content" class="post content" >
  <article>
    <header>
      <h1>{{ title }}</h1>

      <div>
        <span class="date-published">{{date | readableDate}}</span>
          <ul class="post-tags">
            {% for tag in tags %}
              <li><a class="tag-name" href="/tags/{{tag}}">{{tag}}</a></li>
            {% endfor %}
          </ul>
      </div>
        {%if dateModified %}
          <div>Last Updated: {{dateModified | readableDate }}</div>
        {% endif %}


      <img src="./{{featuredImage}}" alt="" aria-hidden="true" class="post-header-featured-image"
           loading="eager"
           fetchpriority="high"
           decoding="async">
      <div class="post-header-excerpt">{{excerpt}}</div>
    </header>

    <hr class="post-header-divider" />

    {{ content | safe }}
  </article>
</main>
{% endblock %}

{% block sidebar %}
  {% include "components/series-toc.njk" %}
  {% set tocHtml = content | toc %}
  {% if tocHtml and (tocHtml | trim) %}
  <nav class="toc" aria-label="Table of contents">
    <h4>Table of contents</h4>
    <div class="toc-list">
      {{ tocHtml | safe }}
    </div>
  </nav>
  {% endif %}
{% endblock %}
