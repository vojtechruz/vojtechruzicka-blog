@use "../variables";
@use "../utilities";

.reading-progress {
  position: fixed;
  inset-inline: 0;
  inset-block-start: 0;
  height: 3px;
  z-index: calc(var(--z-overlay) + 1);
  background: transparent;
  pointer-events: none;
  transform: translateZ(0); // promote to its own layer

  &[hidden] {
    display: none !important;
  }

  .reading-progress__bar {
    display: block;
    width: 100%;
    height: 100%;
    transform-origin: 0 50%;
    transform: scaleX(0);
    background: linear-gradient(90deg, var(--color-accent), var(--color-link));
    will-change: transform;
    box-shadow: 0 0 0 1px rgba(0, 0, 0, .15) inset;
  }
}

@media (prefers-reduced-motion: reduce) {
  .reading-progress .reading-progress__bar {
    transition: none !important;
  }
}
