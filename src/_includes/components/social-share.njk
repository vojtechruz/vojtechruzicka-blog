{# --- Derived params --- #}
{% set absoluteUrl = site.url + page.url %}
{% set shareUrlParam = absoluteUrl | urlencode %}
{% set shareTitleParam = (title or page.title or site.title) | urlencode %}

<nav class="social-share" aria-label="Share this post">
  <p class="social-share-label">Share this article</p>
  <ul role="list" class="share-list">

    {# Native share (only shown if navigator.share is available) #}
    <li>
      <button type="button" class="share-icon share-native" id="native-share-button" aria-label="Share using your apps"
        data-url="{{ absoluteUrl }}" hidden>
        {% include "../icons/share.njk" %}
      </button>
    </li>

    {# Copy link (universal fallback) #}
    <li>
      <button type="button" class="share-icon share-copy" aria-label="Copy link to clipboard"
        data-url="{{ absoluteUrl }}">
        {% include "../icons/copy.njk" %}
      </button>
    </li>

  </ul>
</nav>

<script src="/scripts/social-share.js" defer></script>